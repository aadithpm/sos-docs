<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-107286198-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());

  gtag('config', 'UA-107286198-1');
</script>

<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />
<title>SoS_Magics</title><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>








<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>


 <meta name="viewport" content="width=device-width, initial-scale=1">
 <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>

<style>  /* defined here in case the main.css below cannot be loaded */
.lev1 {margin-left: 80px}
.lev2 {margin-left: 100px}
.lev3 {margin-left: 120px}
.lev4 {margin-left: 140px}
.lev5 {margin-left: 160px}
.lev6 {margin-left: 180px}
</style>

<link rel="stylesheet" type="text/css" href="../../css/jt.css">
<link rel="stylesheet" type="text/css" href="../../css/toc2.css">

<script src="../../js/doc_toc.js"></script>

 <script src="../../js/docs.js"></script>

<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            preferredFont: "TeX",
            availableFonts: ["STIX","TeX"],
            styles: {
                scale: 110,
                ".MathJax_Display": {
                    "font-size": "110%",
                }
            }
        }
    });
</script>

<script>

function filterDataFrame(id) {
    var input = document.getElementById("search_" + id);
    var filter = input.value.toUpperCase();
    var table = document.getElementById("dataframe_" + id);
    var tr = table.getElementsByTagName("tr");

    // Loop through all table rows, and hide those who don't match the search query
    for (var i = 1; i < tr.length; i++) {
        for (var j = 0; j < tr[i].cells.length; ++j) {
            var matched = false;
            if (tr[i].cells[j].innerHTML.toUpperCase().indexOf(filter) != -1) {
                tr[i].style.display = "";
                matched = true
                break;
            }
            if (!matched)
                tr[i].style.display = "none";
        } 
    }
}

function sortDataFrame(id, n, dtype) {
    var table = document.getElementById("dataframe_" + id);

    var tb = table.tBodies[0]; // use `<tbody>` to ignore `<thead>` and `<tfoot>` rows
    var tr = Array.prototype.slice.call(tb.rows, 0); // put rows into array

    if (dtype === 'numeric') {
        var fn = function(a, b) { 
            return parseFloat(a.cells[n].textContent) <= parseFloat(b.cells[n].textContent) ? -1 : 1;
        }
    } else {
        var fn = function(a, b) {
            var c = a.cells[n].textContent.trim().localeCompare(b.cells[n].textContent.trim()); 
            return c > 0 ? 1 : (c < 0 ? -1 : 0) }
    }
    var isSorted = function(array, fn) {
        if (array.length < 2)
            return 1;
        var direction = fn(array[0], array[1]); 
        for (var i = 1; i < array.length - 1; ++i) {
            var d = fn(array[i], array[i+1]);
            if (d == 0)
                continue;
            else if (direction == 0)
                direction = d;
            else if (direction != d)
                return 0;
            }
        return direction;
    }

    var sorted = isSorted(tr, fn);

    if (sorted == 1 || sorted == -1) {
        // if sorted already, reverse it
        for(var i = tr.length - 1; i >= 0; --i)
            tb.appendChild(tr[i]); // append each row in order
    } else {
        tr = tr.sort(fn);
        for(var i = 0; i < tr.length; ++i)
            tb.appendChild(tr[i]); // append each row in order
    }
}

$( document ).ready(function(){

            var cfg={'threshold':4,     // depth of toc (number of levels)
             // 'number_sections': true,  // sections numbering
             'number_sections': false, 
             'toc_cell': false,          // useless here
             'toc_window_display': true, // display the toc window
             "toc_section_display": "block", // display toc contents in the window
             // 'sideBar':true,      
             'sideBar':true,       // sidebar or floating window
             'navigate_menu':false       // navigation menu (only in liveNotebook -- do not change)
            }

            var st={};                  // some variables used in the script
            st.rendering_toc_cell = false;
            st.config_loaded = false;
            st.extension_initialized=false;
            st.nbcontainer_marginleft = $('#notebook-container').css('margin-left')
            st.nbcontainer_marginright = $('#notebook-container').css('margin-right')
            st.nbcontainer_width = $('#notebook-container').css('width')
            st.oldTocHeight = undefined
            st.cell_toc = undefined;
            st.toc_index=0;

            // fire the main function with these parameters



            table_of_contents(cfg,st);

            var file=documentationDict[$("h1:first").attr("id")];
            var path="http://vatlab.github.io/sos-docs"
            $("#toc-level0 a").css("color","#126dce");
            $('a[href="#'+$("h1:first").attr("id")+'"]').hide()
            var docs=documentation;
            var pos=documentation.indexOf(file);
        
            for (var a=pos;a>=0;a--){
                  var name=docs[a]
                  $('<li><a href="'+path+'/doc/documentation/'+name+'.html">'+name.replace(/_/g," ")
                   + '&nbsp ' + '<i class="fa ' +
                      (a === pos ? 'fa-caret-down' : 'fa-caret-right') + '"></i>' +'</a></li>').insertBefore("#toc-level0 li:eq(0)");
            }
            $('a[href="'+path+'/doc/documentation/'+file+'.html'+'"]').css("color","#126dce");


            for (var a=pos+1;a<docs.length;a++){
                  var name=docs[a]
                  $(".toc #toc-level0").append('<li><a href="'+path+'/doc/documentation/'+name+'.html">'+name.replace(/_/g," ")
                    + '&nbsp' + '<i class="fa fa-caret-right"></i>' +'</a></li>');
            }

            // var docs=documentation
            // for (var a =0;a<docs.length;a++){
            //       var name =docs[a];
            //       $(".toc #toc-level0").append('<li><a href="'+path+'/doc/documentation/'+name+'.html">'+name.split("_").join(" ")+'</a></li>');
            // }
            // var home=$("#toc-level0 #indexHome");
          
            // home.insertBefore("#toc-level0 li:eq(0)");

            // $("#toc-level0 li").filter(".home").insertBefore($("#toc-level0 li").filter(':nth-child(1)'));
            // $("#toc").attr("style","max-height:938px")


    });
</script><style>  /* defined here in case the main.css below cannot be loaded */

 .lan_Python3 .input_prompt { background-color: #EAFAF1 !important }.lan_R .input_prompt { background-color: #FDEDEC !important }.lan_SoS {}

</style>
<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="SoS-Magics">SoS Magics<a class="anchor-link" href="#SoS-Magics">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">revisions</span> <span class="o">--</span><span class="n">source</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">

        <table class="revision_table">
        <tr>
        <th>Revision</th>
        <th>Author</th>
        <th>Date</th>
        <th>Message</th>
        <tr>
        <tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/c3d148bb948391366820842ec23a6ca092f307a1/src/documentation/SoS_Magics.ipynb"><span class="revision_id">c3d148b<span></a></td>
<td>Bo Peng</td>
<td>2018-05-18</td>
<td>Shorten %revisions magic in doc</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/6784599ccef31fc4b68bbbadb8aeb97a292456b3/src/documentation/SoS_Magics.ipynb"><span class="revision_id">6784599<span></a></td>
<td>Bo Peng</td>
<td>2018-05-18</td>
<td>Update doc with the new %revisions magic vatlab/sos-notebook#74</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/bf35ae9cb26791800a82c183a5553ec511a44374/src/documentation/SoS_Magics.ipynb"><span class="revision_id">bf35ae9<span></a></td>
<td>Bo Peng</td>
<td>2018-05-08</td>
<td>Update docs on magic %cd</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/3d83d6e11c2f573e64ec74c87780b8a9569322be/src/documentation/SoS_Magics.ipynb"><span class="revision_id">3d83d6e<span></a></td>
<td>Bo Peng</td>
<td>2018-03-06</td>
<td>Remove unused kernel info from documents</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/0300c1dae5eeaa66e2182b00e6708efdff0242c5/src/documentation/SoS_Magics.ipynb"><span class="revision_id">0300c1d<span></a></td>
<td>Bo Peng</td>
<td>2018-02-07</td>
<td>Document option --append of magic %capture</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/51b936135d55cf3e0170998dc7bfcd47a825fbc7/src/documentation/SoS_Magics.ipynb"><span class="revision_id">51b9361<span></a></td>
<td>Bo Peng</td>
<td>2018-01-25</td>
<td>Document magic capture</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/4255a10165e2dd9613b293798dd065206060639e/src/documentation/SoS_Magics.ipynb"><span class="revision_id">4255a10<span></a></td>
<td>Bo Peng</td>
<td>2017-12-08</td>
<td>update docs for the rename of sos variables</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/2e46aea6fc9c170abce617618349fd1916c0ce74/src/documentation/SoS_Magics.ipynb"><span class="revision_id">2e46aea<span></a></td>
<td>Bo Peng</td>
<td>2017-12-04</td>
<td>Tag magic sections in SoS_Magics.ipynb</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/0de68402df47e97997699987b5b770273fb0933c/src/documentation/SoS_Magics.ipynb"><span class="revision_id">0de6840<span></a></td>
<td>Bo Peng</td>
<td>2017-11-06</td>
<td>Document the new %expand magic</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/58df8547ad00cc0bcd5f5fc98b166ca535feeb48/src/documentation/SoS_Magics.ipynb"><span class="revision_id">58df854<span></a></td>
<td>Bo Peng</td>
<td>2017-11-06</td>
<td>Document new --status option to magic %clear and new way of handling non-conforming tasks</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/960affd9bbfb8580b178fc20e266dbbf100c3a35/src/documentation/SoS_Magics.ipynb"><span class="revision_id">960affd<span></a></td>
<td>Bo Peng</td>
<td>2017-11-06</td>
<td>Update documents for the switch to python f-string</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/3bf32df0368f6f3767c49fae59a04cbad198e503/src/documentation/SoS_Magics.ipynb"><span class="revision_id">3bf32df<span></a></td>
<td>Bo Peng</td>
<td>2017-10-25</td>
<td>Document the new %clear magic #5</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/0a5dddc96a8fdf2e29bce1445c087caa9ef7ddc4/src/documentation/SoS_Magics.ipynb"><span class="revision_id">0a5dddc<span></a></td>
<td>Bo Peng</td>
<td>2017-10-05</td>
<td>Move sos docs from sos to sos-docs repository</td></tr></table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In addition to SoS statements, you can use a few SoS magics in Jupyter notebook.</p>
<ol>
<li>SoS magics have to be specified at the beginning of a cell, although they can be specified after empty lines and comments.</li>
<li>Lines ending with <code>"\"</code> will be joined so you can break long magics into multiple lines</li>
<li>Multiple magics can be used in a single cell.</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This section lists all magics that SoS supports. To get a list of magics, you can enter <code>%</code> at the beginning of a line and press tab. You can also get the detailed usage of a magic by executing a magic with <code>-h</code> option, for example:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">use</span> <span class="o">-</span><span class="n">h</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>usage: %use [-h] [-k KERNEL] [-l LANGUAGE] [-c COLOR] [-r]
            [-i [IN_VARS [IN_VARS ...]]] [-o [OUT_VARS [OUT_VARS ...]]]
            [name]

Switch to a specified subkernel.

positional arguments:
  name                  Displayed name of kernel to start (if no kernel with
                        name is specified) or switch to (if a kernel with this
                        name is already started). The name is usually a kernel
                        name (e.g. %use ir) or a language name (e.g. %use R)
                        in which case the language name will be used. One or
                        more parameters --language or --kernel will need to be
                        specified if a new name is used to start a separate
                        instance of a kernel.

optional arguments:
  -h, --help            show this help message and exit
  -k KERNEL, --kernel KERNEL
                        kernel name as displayed in the output of jupyter
                        kernelspec list. Default to the default kernel of
                        selected language (e.g. ir for language R.
  -l LANGUAGE, --language LANGUAGE
                        Language extension that enables magics such as %get
                        and %put for the kernel, which should be in the name
                        of a registered language (e.g. R), or a specific
                        language module in the format of package.module:class.
                        SoS maitains a list of languages and kernels so this
                        option is only needed for starting a new instance of a
                        kernel.
  -c COLOR, --color COLOR
                        Background color of new or existing kernel, which
                        overrides the default color of the language. A special
                        value &#34;default&#34; can be used to reset color to default.
  -r, --restart         Restart the kernel if it is running.
  -i [IN_VARS [IN_VARS ...]], --in [IN_VARS [IN_VARS ...]]
                        Input variables (variables to get from SoS kernel)
  -o [OUT_VARS [OUT_VARS ...]], --out [OUT_VARS [OUT_VARS ...]]
                        Output variables (variables to put back to SoS kernel
                        before switching back to the SoS kernel
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that subkernels can have their own magics, and SoS basically processes all blank lines and known magics and send rest of the cell content to the subkernel. That is to say, because SoS does not define a <code>pwd</code> magic, the following magic would be process by the Python 3 subkernel.</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_Python3">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">pwd</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;/Users/bpeng1/sos-docs/src/documentation&#39;</pre>
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%capture"><code>%capture</code><a class="anchor-link" href="#%capture">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>capture</code> magic is executed after the evaluation of the current cell (in SoS or any subkernel), capture the output of the cell (either <code>stdout</code> or a file specified by <code>--from</code>), parse it as <code>text</code>, <code>json</code>, <code>csv</code>, or <code>tsv</code>, and save (<code>--to</code>) or append (<code>--append</code>) the result to specified variable  as text, Python dictionary, or <code>Pandas</code> <code>DataFrame</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">capture</span> <span class="o">-</span><span class="n">h</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>usage: %capture [-h] [-f SOURCE] (-t VAR | -a VAR) [{text,json,csv,tsv}]

Capture output (stdout) or output file from a subkernel as variable in SoS

positional arguments:
  {text,json,csv,tsv}   How to interpret the captured text. By default the
                        captured content will be saved plain text. Otherwise
                        SoS will try to parse the text as json, csv (comma
                        separated text), tsv (tab separated text), and store
                        text (from text), Pandas DataFrame (from csv or tsv),
                        dict or other types (from json) to the variable.

optional arguments:
  -h, --help            show this help message and exit
  -f SOURCE, --from SOURCE
                        File from which the content is captured, default to
                        standard output
  -t VAR, --to VAR      Name of variable to which the captured content will be
                        saved
  -a VAR, --append VAR  Name of variable to which the captured content will be
                        appended. This option is equivalent to --to if VAR
                        does not exist. If VAR exists and is of the same type
                        of new content (str or dict or DataFrame), the new
                        content will be appended to VAR if VAR is of str (str
                        concatenation), dict (dict update), or DataFrame
                        (DataFrame.append) types. If VAR is of list type, the
                        new content will be appended to the end of the list.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The magic can be applied to any kernel (including SoS) but it only captures output as standard output. For example, in the following R code, although both statements print something, only the <code>cat</code> function writes to standard output. The result of function <code>paste</code> is returned as the result of the cell and is displayed.</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">capture</span> <span class="o">--</span><span class="n">to</span> <span class="n">R_out</span>
<span class="n">cat</span><span class="p">(</span><span class="s2">&quot;this is to stdout&quot;</span><span class="p">)</span>
<span class="n">paste</span><span class="p">(</span><span class="s2">&quot;this is the return value&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>this is to stdout</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
'this is the return value'
</div>

</div>

</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">R_out</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;this is to stdout&#39;</pre>
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The ability to parse tables as <code>Pandas</code> <code>DataFrame</code> is convenient but magic parse tables with <code>pandas.read_csv(sep)</code> with any additional parameter. If you need more flexibility in parsing the table (e.g. table without header), you will have to capture the output as text and parse it by yourself.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%cd-"><code>%cd</code> <a id="magic_cd" /><a class="anchor-link" href="#%cd-">&#182;</a></h3><p>Change the current working directory of the SoS kernel and all subkernels to <code>dir</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%clear-"><code>%clear</code> <a id="magic_clear" /><a class="anchor-link" href="#%clear-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Magic <code>clear</code> clears task lists or the output of cells in the following ways:</p>
<ol>
<li><p>If <code>%clear</code> is used in a regular cell, the output of the cell will be cleared after the cell is executed, effectively suppress any output of the cell. This is useful in suppressing long output of sos workflows or shell commands.</p>
</li>
<li><p>If <code>%clear</code> is executed in the side panel, the output of currently selected cells in the main notebook will be cleared. This magic can then be used as a way to selectively clean up the main notebook without leaving the magic itself in the notebook.</p>
</li>
<li><p>If <code>%clear -a</code> or <code>%clear --all</code> is executed, it would remove the output of all cells in the notebook, leaving a clean notebook without any output. This is usually used in removing all tests results and leaving only defined workflow steps in the notebook.</p>
</li>
<li><p>If option <code>-s</code> (<code>--status</code>) is specified with a status (most frequently <code>completed</code>), all tasks with matching status will be removed. The aforementioned rules apply to the cells that will be affected.</p>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For example, the output of the following cell is suppressed with the <code>%clear</code> magic:</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">clear</span>
<span class="kn">python:</span>
  <span class="k">print</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%dict--"><code>%dict</code>  <a id="magic_dict" /><a class="anchor-link" href="#%dict--">&#182;</a></h3><p>The <code>%dict</code> magic lists or rests the content of SoS dict, using syntax</p>

<pre><code>%dict [-a|-all] [-k|--keys] [-r|--reset] [var1] [var2] ...</code></pre>
<p>where</p>
<ul>
<li><code>var1</code>, <code>var2</code> etc are name of variables. All variables will be displayed if no variable is specified.</li>
<li><code>-a|-all</code>: list all dictionary keys, including SoS functions and variables.</li>
<li><code>-k|--keys</code>: list only keys, not their values</li>
<li><code>-r|--reset</code>: reset the dictionary to its original content (with only SoS internal values)</li>
</ul>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="nb">dict</span> <span class="o">--</span><span class="n">reset</span>
<span class="o">%</span><span class="nb">dict</span> <span class="o">--</span><span class="n">keys</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>set()</pre>
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>and reset the dictionary with the <code>--reset</code> option</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="nb">dict</span> <span class="o">--</span><span class="n">keys</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>set()</pre>
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For example, you can see all keys in the SoS dictionary using</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="nb">dict</span> <span class="o">--</span><span class="n">reset</span>
<span class="o">%</span><span class="nb">dict</span> <span class="o">--</span><span class="n">keys</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>set()</pre>
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>and reset the dictionary with the <code>--reset</code> option</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="nb">dict</span> <span class="o">--</span><span class="n">keys</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>set()</pre>
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%expand-"><code>%expand</code> <a id="magic_expand" /><a class="anchor-link" href="#%expand-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Script in SoS cells are by default sent to SoS or the subkernels in verbatim. However, similar to the <code>expand</code> option of the SoS actions, you can interpolate scripts before they are executed by the kernels. Basically,</p>
<ol>
<li>By default, scripts are not interpolated.</li>
<li>With <code>%expand</code> magic, scripts are treated as Python f-string and are interpolated with sigil <code>{ }</code></li>
<li>With <code>%expand ${ }</code> or other sigils, scripts are interpolated with specified sigil so that you can avoid using symbols that already used in the script.</li>
</ol>
<p>As you can imagine, string interpolation allows passing information from the SoS kernel to the subkernels. Although this method is less flexible and powerful than inter-kernel variable exchange using magics such as <code>%get</code>, it is sometimes easier to use and can be especially useful if you plan to include the script as a SoS action in a SoS workflow.</p>
<p>For example,</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">par</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">expand</span>
<span class="n">cat</span><span class="p">(</span><span class="s2">&quot;A parameter {par} is specified.&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>A parameter 100 is specified.</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If the script contains <code>{ }</code>, which is quite common in R, you can double the braces</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">expand</span>
<span class="k">if</span> <span class="p">({</span><span class="n">par</span><span class="p">}</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">)</span> <span class="p">{{</span>
    <span class="n">cat</span><span class="p">(</span><span class="s2">&quot;A parameter {par} greater than 50 is specified.&quot;</span><span class="p">);</span>
<span class="p">}}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>A parameter 100 greater than 50 is specified.</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If there are multiple braces, it is obviously better to use a different sigil, such as <code>${ }</code> to interpolate the script</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">expand</span> <span class="err">$</span><span class="p">{</span> <span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="err">$</span><span class="p">{</span><span class="n">par</span><span class="p">}</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cat</span><span class="p">(</span><span class="s2">&quot;A parameter ${par} greater than 50 is specified.&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>A parameter 100 greater than 50 is specified.</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%get-"><code>%get</code> <a id="magic_get" /><a class="anchor-link" href="#%get-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Magics <code>%get</code> retrieve variables from SoS or another subkernel to the current subkernel started by magic <code>%use</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For example,</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">use</span> <span class="n">sos</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">]</span>
<span class="n">c</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">use</span> <span class="n">R</span>
<span class="o">%</span><span class="n">get</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span>
<span class="n">a</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<ol class=list-inline>
	<li>1</li>
	<li>2</li>
	<li>3</li>
</ol>

</div>

</div>

</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">b</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<ol>
	<li>1</li>
	<li>2</li>
	<li>'3'</li>
</ol>

</div>

</div>

</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">c</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
TRUE
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%preview</code> magic cannot be used to preview variables in the subkernel so we have to list them one by one. As you can see, a Python list can be converted to <code>R</code> array or list depending on its content.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Similar to the <code>%put</code> magic, SoS automatically translate variables with invalid Python names. For example</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">use</span> <span class="n">sos</span>
<span class="n">_var</span> <span class="o">=</span> <span class="s1">&#39;Hi, Bob&#39;</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">use</span> <span class="n">R</span>
<span class="o">%</span><span class="n">get</span> <span class="n">_var</span>
<span class="o">.</span><span class="n">var</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>Variable _var is passed from SoS to kernel ir as .var
</pre>
</div>
</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
'Hi, Bob'
</div>

</div>

</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">use</span> <span class="n">sos</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Also similar to the <code>--to</code> option of magic <code>%put</code>, magic <code>%get</code> accept a parameter <code>--from</code> to get variables from SoS (default) any kernel. For example,</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">R_var</span> <span class="o">&lt;-</span> <span class="s1">&#39;R variable&#39;</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_Python3">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">get</span> <span class="o">--</span><span class="kn">from</span> <span class="nn">R</span> <span class="nn">R_var</span>
<span class="n">R_var</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[20]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;R variable&#39;</pre>
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Depending on how the language module is defined, such cross-subkernel variable exchange can be achived directly, or by way of SoS, so after the <code>%get --from R R_var</code> statement, the <code>R_var</code> variable might or might not exist in the SoS kernel.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%matplotlib"><code>%matplotlib</code><a class="anchor-link" href="#%matplotlib">&#182;</a></h3><p>Similar to ipython's <code>matplotlib</code> magic, the <code>%matplotlib inline</code> magic allows the display of matplotlib figures inline in Jupyter notebook or qtconsole.</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
rkJggg==
"
>
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%paste-"><code>%paste</code> <a id="magic_paste" /><a class="anchor-link" href="#%paste-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This magic pastes content of clipboard to the cell and execute the cell. It is similar but sometimes more convenient than pasting the content using system shortcuts such as <code>Cmd-V</code> (mac). The additional options allow you to execute the pasted workflow with these options (see magic <code>%run</code> for details).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%put-"><code>%put</code> <a id="magic_put" /><a class="anchor-link" href="#%put-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Magics <code>%put</code> are used to put variables from subkernel to SoS or another subkernel.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For example</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">use</span> <span class="n">R</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">)</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">put</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span>
<span class="o">%</span><span class="n">preview</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="n">d</span> <span class="n">e</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>Loading required package: feather
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As you can see, although <code>a</code> is technically an array with length 1 in <code>R</code>, it is convertered to an integer in SoS. Variables <code>b</code> and <code>c</code> are converted to the same type (<code>list</code>) although they are of different types in <code>R</code>. Variable <code>e</code> are converted from <code>R</code> matrix to <code>numpy</code> array.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Sometimes a valid variale name in a subkernel is not a valid name in SoS/Python. SoS would automatically convert such names with a warning message. For example,</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">put</span> <span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">b</span>
<span class="o">%</span><span class="n">preview</span> <span class="n">_a_b</span> <span class="o">--</span><span class="n">kernel</span> <span class="n">sos</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>Variable .a.b is put to SoS as _a_b
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In addition to putting variables from subkernel to SoS, you can also put variables from SoS to subkernel, or from any subkernel to another, using parameter <code>--to</code>. For example,</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">R_var</span> <span class="o">&lt;-</span> <span class="s1">&#39;R variable&#39;</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">put</span> <span class="o">--</span><span class="n">to</span> <span class="n">Python3</span> <span class="n">R_var</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_Python3">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">R_var</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[29]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;R variable&#39;</pre>
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Depending on the language module, such cross-subkernel variable exchange can be performed directly, or by way of SoS. The former is generally faster and, in case of data exchange between instances of the same language, can usually be done witout loss of information.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%preview-"><code>%preview</code> <a id="magic_preview" /><a class="anchor-link" href="#%preview-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%preview</code> magic has been discussed above. Here is a complete list of options:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">preview</span> <span class="o">-</span><span class="n">h</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>usage: %preview [-h] [-k KERNEL] [-w] [-o] [-s {table,scatterplot,png}]
                [-r [HOST]] [--off] [-p | -n] [-c CONFIG]
                [items [items ...]]

Preview files, sos variables, or expressions in the side panel, or notebook if
side panel is not opened, unless options --panel or --notebook is specified.

positional arguments:
  items                 Filename, variable name, or expression. Wildcard
                        characters such as &#39;*&#39; and &#39;?&#39; are allowed for
                        filenames.

optional arguments:
  -h, --help            show this help message and exit
  -k KERNEL, --kernel KERNEL
                        kernel in which variables will be previewed. By
                        default the variable will be previewed in the current
                        kernel of the cell.
  -w, --workflow        Preview notebook workflow
  -o, --keep-output     Do not clear the output of the side panel.
  -s {table,scatterplot,png}, --style {table,scatterplot,png}
                        Option for preview file or variable, which by default
                        is &#34;table&#34; for Pandas DataFrame. The %preview magic
                        also accepts arbitrary additional keyword arguments,
                        which would be interpreted by individual style.
                        Passing &#39;-h&#39; with &#39;--style&#39; would display the usage
                        information of particular style.
  -r [HOST], --host [HOST]
                        Preview files on specified remote host, which should
                        be defined under key host of sos configuration files
                        (preferrably in ~/.sos/hosts.yml). If this option is
                        specified without value, SoS will list all configured
                        queues and stop.
  --off                 Turn off file preview
  -p, --panel           Preview in side panel even if the panel is currently
                        closed
  -n, --notebook        Preview in the main notebook.
  -c CONFIG, --config CONFIG
                        A configuration file with host definitions, in case
                        the definitions are not defined in global or local sos
                        config.yml files.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%render-"><code>%render</code> <a id="magic_render" /><a class="anchor-link" href="#%render-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%render</code> magic converts the output of a cell to certain format before displaying it in the notebook. The format can be any format supported by the <a href="https://ipython.org/ipython-doc/3/api/generated/IPython.display.html"><code>IPython.display</code> module</a> and is default to <code>Markdown</code>. For example, the following code displays all supported options of <code>%render</code> by checking the subclasses of <code>IPython.display</code>. The cell returns a string in markdown format and is rendered in <code>Markdown</code>.</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">render</span>
<span class="kn">import</span> <span class="nn">IPython.display</span>
<span class="kn">import</span> <span class="nn">inspect</span>

<span class="n">res</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">Options of magic </span><span class="si">%r</span><span class="s1">ender</span>

<span class="s1">&#39;&#39;&#39;</span>

<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">IPython</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">IPython</span><span class="o">.</span><span class="n">display</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">IPython</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">DisplayObject</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">+=</span> <span class="s1">&#39;* {}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="c1"># this is the output of this cell and will be rendered in Markdown format</span>
<span class="n">res</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[31]:</div>



<div class="output_markdown rendered_html output_subarea output_execute_result">
<p>Options of magic %render</p>
<ul>
<li>DisplayObject</li>
<li>TextDisplayObject</li>
<li>Pretty</li>
<li>HTML</li>
<li>Markdown</li>
<li>Math</li>
<li>Latex</li>
<li>SVG</li>
<li>ProgressBar</li>
<li>JSON</li>
<li>GeoJSON</li>
<li>Javascript</li>
<li>Image</li>
<li>Video</li>
<li>Audio</li>
</ul>

</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Similarly, you can use magic <code>%render</code> to render output in other formats:</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">render</span> <span class="n">HTML</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">This is a table in HTML format &lt;br&gt;</span>
<span class="sd">&lt;table style=&quot;width:100%&quot;&gt;</span>
<span class="sd">  &lt;tr&gt;</span>
<span class="sd">    &lt;th&gt;Firstname&lt;/th&gt;</span>
<span class="sd">    &lt;th&gt;Lastname&lt;/th&gt; </span>
<span class="sd">    &lt;th&gt;Age&lt;/th&gt;</span>
<span class="sd">  &lt;/tr&gt;</span>
<span class="sd">  &lt;tr&gt;</span>
<span class="sd">    &lt;td&gt;Jill&lt;/td&gt;</span>
<span class="sd">    &lt;td&gt;Smith&lt;/td&gt; </span>
<span class="sd">    &lt;td&gt;50&lt;/td&gt;</span>
<span class="sd">  &lt;/tr&gt;</span>
<span class="sd">  &lt;tr&gt;</span>
<span class="sd">    &lt;td&gt;Eve&lt;/td&gt;</span>
<span class="sd">    &lt;td&gt;Jackson&lt;/td&gt; </span>
<span class="sd">    &lt;td&gt;94&lt;/td&gt;</span>
<span class="sd">  &lt;/tr&gt;</span>
<span class="sd">&lt;/table&gt;</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[32]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">

This is a table in HTML format <br>
<table style="width:100%">
  <tr>
    <th>Firstname</th>
    <th>Lastname</th> 
    <th>Age</th>
  </tr>
  <tr>
    <td>Jill</td>
    <td>Smith</td> 
    <td>50</td>
  </tr>
  <tr>
    <td>Eve</td>
    <td>Jackson</td> 
    <td>94</td>
  </tr>
</table>

</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%render</code> magic captures not only the return value of SoS cell, but also standard output of SoS and other cells. For example, a subprocess of the following cell (a Python script) prints the content of a SVG file to standard output, which is captured and displayed by magic <code>%render</code>.</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">render</span> <span class="n">SVG</span>
<span class="kn">python:</span>
<span class="k">print</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1"> &lt;svg height=&quot;140&quot; width=&quot;140&quot;&gt;</span>
<span class="s1">  &lt;defs&gt;</span>
<span class="s1">    &lt;filter id=&quot;f1&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;200%&quot; height=&quot;200%&quot;&gt;</span>
<span class="s1">      &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;20&quot; dy=&quot;20&quot; /&gt;</span>
<span class="s1">      &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;offOut&quot; stdDeviation=&quot;10&quot; /&gt;</span>
<span class="s1">      &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;</span>
<span class="s1">    &lt;/filter&gt;</span>
<span class="s1">  &lt;/defs&gt;</span>
<span class="s1">  &lt;rect width=&quot;90&quot; height=&quot;90&quot; stroke=&quot;green&quot; stroke-width=&quot;3&quot; fill=&quot;yellow&quot; filter=&quot;url(#f1)&quot; /&gt;</span>
<span class="s1">  Sorry, your browser does not support inline SVG.</span>
<span class="s1"> &lt;/svg&gt;</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>
 &lt;svg height=&#34;140&#34; width=&#34;140&#34;&gt;
  &lt;defs&gt;
    &lt;filter id=&#34;f1&#34; x=&#34;0&#34; y=&#34;0&#34; width=&#34;200%&#34; height=&#34;200%&#34;&gt;
      &lt;feOffset result=&#34;offOut&#34; in=&#34;SourceAlpha&#34; dx=&#34;20&#34; dy=&#34;20&#34; /&gt;
      &lt;feGaussianBlur result=&#34;blurOut&#34; in=&#34;offOut&#34; stdDeviation=&#34;10&#34; /&gt;
      &lt;feBlend in=&#34;SourceGraphic&#34; in2=&#34;blurOut&#34; mode=&#34;normal&#34; /&gt;
    &lt;/filter&gt;
  &lt;/defs&gt;
  &lt;rect width=&#34;90&#34; height=&#34;90&#34; stroke=&#34;green&#34; stroke-width=&#34;3&#34; fill=&#34;yellow&#34; filter=&#34;url(#f1)&#34; /&gt;
  Sorry, your browser does not support inline SVG.
 &lt;/svg&gt;

</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%render</code> magic also works for other kernels although it can be tricky to determine what is printed to standard output. For kernel R, the function to print to standard output is <code>cat</code> so you can use <code>cat</code> to print something to the standard output for <code>%render</code> to process. For example,</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">render</span>
<span class="n">a</span> <span class="o">&lt;-</span> <span class="n">rnorm</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">cat</span><span class="p">(</span><span class="n">paste</span><span class="p">(</span><span class="n">length</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="s2">&quot;random numbers&quot;</span><span class="p">))</span>
<span class="n">cat</span><span class="p">(</span><span class="n">paste</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">collapse</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_markdown rendered_html output_subarea ">
<p>5 random numbers</p>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_markdown rendered_html output_subarea ">
<ul>
<li>-0.528073553908095</li>
<li>-1.04606110823435</li>
<li>-0.974476194401011</li>
<li>-0.949572890385556</li>
<li>1.89932355715078</li>
</ul>

</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%rerun-"><code>%rerun</code> <a id="magic_rerun" /><a class="anchor-link" href="#%rerun-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%rerun</code> magic re-executed the last script, which is basically content of the last cell without the magics. This allows you to re-run the last cell with or without a new set of parameters. Note that cells without a script (e.g. a cell with only magics) does not change the last executed script.</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">run</span>
<span class="kn">parameter:</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">[</span><span class="mi">10</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;a is set to f{a}&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>a is set to f10
</pre>
</div>
</div>

</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">rerun</span> <span class="o">--</span><span class="n">a</span> <span class="mi">20</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>a is set to f20
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%revisions-"><code>%revisions</code> <a id="magic_revisions" /><a class="anchor-link" href="#%revisions-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%revisions</code> magic displays revisions of the current document if the document is managed by git.</p>
<p>This magic accepts a few options:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">revisions</span> <span class="o">-</span><span class="n">h</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>usage: %revision [-h] [-s [SOURCE]] [-l LINKS [LINKS ...]]

Revision history of the document, parsed from the log message of the notebook
if it is kept in a git repository. Additional parameters to &#34;git log&#34; command
(e.g. -n 5 --since --after) could be specified to limit the revisions to
display.

optional arguments:
  -h, --help            show this help message and exit
  -s [SOURCE], --source [SOURCE]
                        Source URL to to create links for revisions. SoS
                        automatically parse source URL of the origin and
                        provides variables &#34;repo&#34; for complete origin URL
                        without trailing &#34;.git&#34; (e.g.
                        https://github.com/vatlab/sos-notebook), &#34;path&#34; for
                        complete path name (e.g. src/document/doc.ipynb),
                        &#34;filename&#34; for only the name of the &#34;path&#34;, and
                        &#34;revision&#34; for revisions. Because sos interpolates
                        command line by default, variables in URL template
                        should be included with double braceses (e.g. --source
                        {{repo}}/blob/{{revision}}/{{path}})). If this option
                        is provided without value and the document is hosted
                        on github, a default template will be provided.
  -l LINKS [LINKS ...], --links LINKS [LINKS ...]
                        Name and URL or additional links for related files
                        (e.g. --links report URL_to_repo ) with URL
                        interpolated as option --source.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First, any options that are acceptable to <a href="https://git-scm.com/docs/git-log">command <code>git log</code></a> can be passed to this magic. The most useful ones are options to limit the commits to display such as <code>-n</code> (number of commits to output), <code>--since=&lt;date&gt;</code> and <code>--after=&lt;date&gt;</code>. For example, you can display five most recent commits with command</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">revisions</span> <span class="o">-</span><span class="n">n</span> <span class="mi">5</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">

        <table class="revision_table">
        <tr>
        <th>Revision</th>
        <th>Author</th>
        <th>Date</th>
        <th>Message</th>
        <tr>
        <tr><td><span class="revision_id">214c618<span></td>
<td>Bo Peng</td>
<td>2018-05-20</td>
<td>Fix url to HTML</td></tr><tr><td><span class="revision_id">e28e7c0<span></td>
<td>Bo Peng</td>
<td>2018-05-20</td>
<td>Update doc for %revisions</td></tr><tr><td><span class="revision_id">c3d148b<span></td>
<td>Bo Peng</td>
<td>2018-05-18</td>
<td>Shorten %revisions magic in doc</td></tr><tr><td><span class="revision_id">6784599<span></td>
<td>Bo Peng</td>
<td>2018-05-18</td>
<td>Update doc with the new %revisions magic vatlab/sos-notebook#74</td></tr><tr><td><span class="revision_id">bf35ae9<span></td>
<td>Bo Peng</td>
<td>2018-05-08</td>
<td>Update docs on magic %cd</td></tr></table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Another useful option is the <code>--source</code> option that allows you to link the revision to specific URL (e.g. github). This option should be specified as a string with <code>repo</code>, <code>revision</code>, <code>path</code>, and <code>filename</code> interpolated as URL to the repository, revision id, and path and name of the document respectively. Here <code>repo</code> is retrieved from the output of command <code>git ls-remote --get-url origin</code> without trailing <code>.git</code> (if available). Because SoS Notebook interpolates magics automatically, you should include variables in double braces.</p>
<p>For example, the github URL of a particular revision of this document is <code>https://github.com/REPO/blob/REVISION/PATH/TO/FILENAME</code> so the command to link this document to its source on github would be:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">revisions</span> <span class="o">-</span><span class="n">n</span> <span class="mi">5</span> <span class="o">--</span><span class="n">source</span> <span class="s1">&#39;{{repo}}/blob/{{revision}}/{{path}}&#39;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div class="sos_hint">> %revisions -n 5 --source '{repo}/blob/{revision}/{path}'<br></div>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">

        <table class="revision_table">
        <tr>
        <th>Revision</th>
        <th>Author</th>
        <th>Date</th>
        <th>Message</th>
        <tr>
        <tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/214c618beef2d087f2c196f862644dfbc4ec158e/src/documentation/SoS_Magics.ipynb"><span class="revision_id">214c618<span></a></td>
<td>Bo Peng</td>
<td>2018-05-20</td>
<td>Fix url to HTML</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/e28e7c0e458e840fc16018ad722a2e1ce0345218/src/documentation/SoS_Magics.ipynb"><span class="revision_id">e28e7c0<span></a></td>
<td>Bo Peng</td>
<td>2018-05-20</td>
<td>Update doc for %revisions</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/c3d148bb948391366820842ec23a6ca092f307a1/src/documentation/SoS_Magics.ipynb"><span class="revision_id">c3d148b<span></a></td>
<td>Bo Peng</td>
<td>2018-05-18</td>
<td>Shorten %revisions magic in doc</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/6784599ccef31fc4b68bbbadb8aeb97a292456b3/src/documentation/SoS_Magics.ipynb"><span class="revision_id">6784599<span></a></td>
<td>Bo Peng</td>
<td>2018-05-18</td>
<td>Update doc with the new %revisions magic vatlab/sos-notebook#74</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/bf35ae9cb26791800a82c183a5553ec511a44374/src/documentation/SoS_Magics.ipynb"><span class="revision_id">bf35ae9<span></a></td>
<td>Bo Peng</td>
<td>2018-05-08</td>
<td>Update docs on magic %cd</td></tr></table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Because <code>github</code> is the most widely used git repository, we provide the aforementioned template by default if you specify option <code>--source</code> without value. That is to say, if your document is hosted in <code>github.com</code>, you can simply use</p>

<pre><code>%revisions --source</code></pre>
<p>to link revisions to github.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The links do not have to point to the source of the document. For example, because we always convert this document to HTML in another directory and display it on our homepage, we can link the revisions to the HTML version as follows:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">revisions</span> <span class="o">-</span><span class="n">n</span> <span class="mi">5</span> \
  <span class="o">--</span><span class="n">source</span> <span class="s1">&#39;{{repo}}/blob/{{revision}}/doc/documentation/{{filename[:-6]}}.html&#39;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div class="sos_hint">> %revisions -n 5   --source '{repo}/blob/{revision}/doc/documentation/{filename[:-6]}.html'<br></div>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">

        <table class="revision_table">
        <tr>
        <th>Revision</th>
        <th>Author</th>
        <th>Date</th>
        <th>Message</th>
        <tr>
        <tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/214c618beef2d087f2c196f862644dfbc4ec158e/doc/documentation/SoS_Magics.html"><span class="revision_id">214c618<span></a></td>
<td>Bo Peng</td>
<td>2018-05-20</td>
<td>Fix url to HTML</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/e28e7c0e458e840fc16018ad722a2e1ce0345218/doc/documentation/SoS_Magics.html"><span class="revision_id">e28e7c0<span></a></td>
<td>Bo Peng</td>
<td>2018-05-20</td>
<td>Update doc for %revisions</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/c3d148bb948391366820842ec23a6ca092f307a1/doc/documentation/SoS_Magics.html"><span class="revision_id">c3d148b<span></a></td>
<td>Bo Peng</td>
<td>2018-05-18</td>
<td>Shorten %revisions magic in doc</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/6784599ccef31fc4b68bbbadb8aeb97a292456b3/doc/documentation/SoS_Magics.html"><span class="revision_id">6784599<span></a></td>
<td>Bo Peng</td>
<td>2018-05-18</td>
<td>Update doc with the new %revisions magic vatlab/sos-notebook#74</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/bf35ae9cb26791800a82c183a5553ec511a44374/doc/documentation/SoS_Magics.html"><span class="revision_id">bf35ae9<span></a></td>
<td>Bo Peng</td>
<td>2018-05-08</td>
<td>Update docs on magic %cd</td></tr></table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And if you would like to display one or more links next to the revision number, you can do so with the <code>--links</code> option:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">revisions</span> <span class="o">-</span><span class="n">n</span> <span class="mi">5</span> <span class="o">--</span><span class="n">source</span>  \
  <span class="o">--</span><span class="n">links</span> <span class="n">HTML</span> <span class="s1">&#39;{{repo}}/blob/{{revision}}/doc/documentation/{{filename[:-6]}}.html&#39;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div class="sos_hint">> %revisions -n 5 --source    --links HTML '{repo}/blob/{revision}/doc/documentation/{filename[:-6]}.html'<br></div>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">

        <table class="revision_table">
        <tr>
        <th>Revision</th>
        <th>Author</th>
        <th>Date</th>
        <th>Message</th>
        <tr>
        <tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/214c618beef2d087f2c196f862644dfbc4ec158e/src/documentation/SoS_Magics.ipynb"><span class="revision_id">214c618<span></a> (<a target="_blank" href="https://github.com/vatlab/sos-docs/blob/214c618beef2d087f2c196f862644dfbc4ec158e/doc/documentation/SoS_Magics.html">HTML</a>)</td>
<td>Bo Peng</td>
<td>2018-05-20</td>
<td>Fix url to HTML</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/e28e7c0e458e840fc16018ad722a2e1ce0345218/src/documentation/SoS_Magics.ipynb"><span class="revision_id">e28e7c0<span></a> (<a target="_blank" href="https://github.com/vatlab/sos-docs/blob/e28e7c0e458e840fc16018ad722a2e1ce0345218/doc/documentation/SoS_Magics.html">HTML</a>)</td>
<td>Bo Peng</td>
<td>2018-05-20</td>
<td>Update doc for %revisions</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/c3d148bb948391366820842ec23a6ca092f307a1/src/documentation/SoS_Magics.ipynb"><span class="revision_id">c3d148b<span></a> (<a target="_blank" href="https://github.com/vatlab/sos-docs/blob/c3d148bb948391366820842ec23a6ca092f307a1/doc/documentation/SoS_Magics.html">HTML</a>)</td>
<td>Bo Peng</td>
<td>2018-05-18</td>
<td>Shorten %revisions magic in doc</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/6784599ccef31fc4b68bbbadb8aeb97a292456b3/src/documentation/SoS_Magics.ipynb"><span class="revision_id">6784599<span></a> (<a target="_blank" href="https://github.com/vatlab/sos-docs/blob/6784599ccef31fc4b68bbbadb8aeb97a292456b3/doc/documentation/SoS_Magics.html">HTML</a>)</td>
<td>Bo Peng</td>
<td>2018-05-18</td>
<td>Update doc with the new %revisions magic vatlab/sos-notebook#74</td></tr><tr><td><a target="_blank" href="https://github.com/vatlab/sos-docs/blob/bf35ae9cb26791800a82c183a5553ec511a44374/src/documentation/SoS_Magics.ipynb"><span class="revision_id">bf35ae9<span></a> (<a target="_blank" href="https://github.com/vatlab/sos-docs/blob/bf35ae9cb26791800a82c183a5553ec511a44374/doc/documentation/SoS_Magics.html">HTML</a>)</td>
<td>Bo Peng</td>
<td>2018-05-08</td>
<td>Update docs on magic %cd</td></tr></table>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%run-"><code>%run</code> <a id="magic_run" /><a class="anchor-link" href="#%run-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%run</code> magic allows you to run the content of a cell as a SoS workflow with specify SoS options such as <code>-v</code> (verbosity), <code>-j</code> (max number of jobs), and workflow options as defined by <code>parameter:</code> keyword.</p>
<p><strong>The content of the cell is extracted and executed as an independent SoS script prepended with [global] sections defined in the notebook</strong>. The script does not use any existing variable so all parameters must be passed from command line (options of <code>%run</code>). The resulting dictionary will merged to the SoS dictionary to make it easy to check the result of the workflow, unless the workflow is executed remotely on another server (option <code>-r HOST</code>).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For example, if we define a variable in the SoS kernel,</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">var</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>it is can be used in other scratch cells,</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">var</span> <span class="o">+=</span> <span class="mi">100</span>
<span class="k">print</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>200
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>But not in the workflow executed by magic %run`</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">sandbox</span> <span class="o">--</span><span class="n">expect</span><span class="o">-</span><span class="n">error</span>
<span class="o">%</span><span class="n">run</span>
<span class="k">print</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>NameError at line 1 of 
&gt;&gt;&gt; print(var)
name &#39;var&#39; is not defined
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So you will have to pass the value as a parameter</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">run</span> <span class="o">--</span><span class="n">var</span> <span class="mi">40</span>
<span class="kn">parameter:</span> <span class="n">var</span> <span class="o">=</span> <span class="nb">int</span>
<span class="n">var</span> <span class="o">+=</span> <span class="mi">400</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>However, when the workflow is executed, the workflow dictionary is merged to the SoS kernel so that you can examine the resulting variables,</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">var</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>440
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%run</code> magics also provides you a way to execute the same cell multiple times with different parameters, for example</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">run</span>
<span class="o">%</span><span class="n">run</span> <span class="o">--</span><span class="n">var</span> <span class="mi">1</span>
<span class="kn">parameter:</span> <span class="n">var</span><span class="o">=</span><span class="mi">0</span>
<span class="kn">sh:</span> <span class="n">expand</span><span class="o">=</span><span class="bp">True</span>
  <span class="n">echo</span> <span class="p">{</span><span class="n">var</span><span class="p">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>0
1
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>%run</code> magic executes <code>global</code> sections defined in the notebook which allows you to define commonly used definitions in a <code>global</code> section and used them in every cell executed by <code>%run</code>. For example, although we define a variable <code>VAR</code> to be <code>this is local</code> in the notebook,</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="p">[</span><span class="k">global</span><span class="p">]</span>
<span class="n">VAR</span><span class="o">=</span><span class="s1">&#39;this is global&#39;</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">VAR</span><span class="o">=</span><span class="s1">&#39;this is local&#39;</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The global section is executed by the <code>%run</code> magic</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">run</span>
<span class="k">print</span><span class="p">(</span><span class="n">VAR</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>this is global
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Also, recall that statements defined before any section is considered as a global section without header, so if you redefine <code>VAR</code> in a cell as follows, it effectively appends <code>VAR = "this is local global"</code> to the <code>global</code> section, which changes the definition of <code>VAR</code>:</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[46]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">run</span>
<span class="n">VAR</span> <span class="o">=</span> <span class="s2">&quot;this is local global&quot;</span>

<span class="p">[</span><span class="n">step</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">VAR</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>this is local global
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A complete list of arguments can be shown using the <code>-h</code> option.</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[47]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">use</span> <span class="n">sos</span>
<span class="o">%</span><span class="n">run</span> <span class="o">-</span><span class="n">h</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>usage: run [-h] [-J EXTERNAL_JOBS] [-c CONFIG_FILE] [-t FILE [FILE ...]]
           [-b [BIN_DIR [BIN_DIR ...]]] [-q [QUEUE]] [-w] [-W] [-r [HOST]]
           [-n] [-s SIGMODE] [-d [DAG]] [-v {0,1,2,3,4}]
           [WORKFLOW]

Execute default or specified workflow defined in script

positional arguments:
  WORKFLOW              Name of the workflow to execute. This option can be
                        ignored if the script defines a default workflow (with
                        no name or with name `default`) or defines only a
                        single workflow. A subworkflow or a combined workflow
                        can also be specified, where a subworkflow executes a
                        subset of workflow (`name_steps` where `steps` can be
                        `n` (a step `n`), `:n` (up to step `n`), `n:m` (from
                        step `n` to `m`), and `n:` (from step `n`)), and a
                        combined workflow executes to multiple (sub)workflows
                        combined by `+` (e.g. `A_0+B+C`).

optional arguments:
  -h, --help            show this help message and exit
  -J EXTERNAL_JOBS      Maximum number of externally running tasks. This
                        option overrides option &#34;max_running_jobs&#34; of a task
                        queue (option -q) so that you can, for example, submit
                        one job at a time (with -J 1) to test the task queue.
  -c CONFIG_FILE        A configuration file in the format of YAML/JSON. The
                        content of the configuration file will be available as
                        a dictionary CONF in the SoS script being executed.
  -t FILE [FILE ...]    One of more files or alias of other targets that will
                        be the target of execution. If specified, SoS will
                        execute only part of a workflow or multiple workflows
                        or auxiliary steps to generate specified targets.
  -b [BIN_DIR [BIN_DIR ...]]
                        Extra directories in which SoS will look for
                        executables before standard $PATH. This option
                        essentially prefix $PATH with these directories. Note
                        that the default value &#39;~/.sos/bin&#39; is by convention a
                        default directory for commands that are installed by
                        SoS. You can use option &#39;-b&#39; without value to disallow
                        commands under ~/.sos/bin.
  -q [QUEUE]            host (server) or job queues to execute all tasks in
                        the workflow. The queue can be defined in global or
                        local sos configuration file, or a file specified by
                        option --config. A host is assumed to be a remote
                        machine with process type if no configuration is
                        found. If this option is specified without value, SoS
                        will list all configured queues and exit.
  -w                    Wait for the completion of external tasks regardless
                        of the setting of individual task queue.
  -W                    Do not wait for the completion of external tasks and
                        quit SoS if all tasks are being executed by external
                        task queues. This option overrides the default wait
                        setting of task queues.
  -r [HOST]             Execute the workflow in specified remote host, which
                        should be defined under key host of sos configuration
                        files (preferrably in ~/.sos/hosts.yml). This option
                        basically copy the workflow to remote host and invoke
                        sos command there. No path translation and
                        input/output file synchronization will be performed
                        before or after the execution of the workflow. If this
                        option is specified without value, SoS will list all
                        configured queues and exit.

Run mode options:
  Control how sos scirpt is executed.

  -n                    Execute a workflow in dryrun mode. Please check
                        command sos dryrun for details of the dryrun mode.
  -s SIGMODE            How runtime signature would be handled, which can be
                        &#34;default&#34; (save and use signature, default mode in
                        batch mode), &#34;ignore&#34; (ignore runtime signature,
                        default mode in interactive mode), &#34;force&#34; (ignore
                        existing signature and overwrite them while executing
                        the workflow), &#34;build&#34; (build new or overwrite
                        existing signature from existing environment and
                        output files), and &#34;assert&#34; for validating existing
                        files against their signatures. Please refer to online
                        documentation for details about the use of runtime
                        signatures.

Output options:
  Output of workflow

  -d [DAG]              Output Direct Acyclic Graph (DAGs) in graphiviz .dot
                        format. An exntesion of &#34;.dot&#34; would be added
                        automatically. Because DAG could change during the
                        execution of workflow, multiple DAGs could be outputed
                        with names $FILE_1.dot, $FILE_2.dot. If this option is
                        specified without a name, the DAG would be wrritten to
                        the standard output.
  -v {0,1,2,3,4}        Output error (0), warning (1), info (2), debug (3) and
                        trace (4) information to standard output (default to
                        2).

Arbitrary parameters defined by the [parameters] step of the script, and
[parameters] steps of other scripts if nested workflows are defined in other
SoS files (option `source`). The name, default and type of the parameters are
specified in the script. Single value parameters should be passed using option
`--name value` and multi-value parameters should be passed using option
`--name value1 value2`.
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%save-"><code>%save</code> <a id="magic_save" /><a class="anchor-link" href="#%save-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Magic <code>%save</code> saves the content of the current cell (after the magic itself) to specified file. It accepts the following options:</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">save</span> <span class="o">-</span><span class="n">h</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%sosrun-"><code>%sosrun</code> <a id="magic_sosrun" /><a class="anchor-link" href="#%sosrun-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%sosrun</code> option is a very special magic in that it <strong>executes SoS steps defined in the entire notebook</strong>. Essentially speaking, this magic</p>
<ul>
<li>Collect the content of all SoS cells in the notebook (including the present cell) and extract all sections from it. Comments, magics, and statements before section header is ignored.</li>
<li>Execute the entire workflow with options specified by magic <code>%sosrun</code> as a <strong>separate workflow</strong>. Default options specified by magic <code>%set</code> is honored. Similar to magic <code>%run</code>, the script does not use any existing variable but the workflow dictionary will be merged to the notebook dictionary after the completion of workflow (see magic <code>%run</code> for details). </li>
</ul>
<p>For example,</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="p">[</span><span class="k">global</span><span class="p">]</span>
<span class="c1"># this is the global section of a workflow</span>
<span class="kn">parameter:</span> <span class="n">gvar</span> <span class="o">=</span> <span class="mi">20</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="p">[</span><span class="n">workflow_10</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;This is step {step_name}, with {gvar}&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="p">[</span><span class="n">workflow_20</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;This is step {step_name}, with {gvar}&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">sosrun</span> <span class="n">workflow</span> <span class="o">--</span><span class="n">gvar</span> <span class="mi">40</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>This is step workflow_10, with 40
This is step workflow_20, with 40
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The content of the workflow is displayed at the side panel (if opened) so that you know what has been collected. Using the workflow feature of SoS, you can execute cells of a notebook conditionally, repeatedly, with different parameters...</p>
<p>The following example demonstrates how to execute a step repeated as a nested workflow of another workflow.</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="c1"># this is a worker step</span>
<span class="p">[</span><span class="n">worker</span><span class="p">]</span>
<span class="kn">parameter:</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">5</span>
<span class="kn">sh:</span> <span class="n">expand</span><span class="o">=</span><span class="bp">True</span>
    <span class="n">echo</span> <span class="n">process</span> <span class="p">{</span><span class="n">val</span><span class="p">}</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="c1"># this step will execute the previous cell multiple times</span>
<span class="o">%</span><span class="n">sosrun</span> <span class="n">batch</span>
<span class="p">[</span><span class="n">batch</span><span class="p">]</span>
<span class="kn">input:</span> <span class="kp">for_each</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)}</span>
<span class="n">sos_run</span><span class="p">(</span><span class="s1">&#39;worker&#39;</span><span class="p">,</span><span class="n">val</span><span class="o">=</span><span class="n">val</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>process 0
process 1
process 2
process 3
process 4
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It is worth mentioning that "global definitions" in a cell without <code>[global]</code> header is excluded from the notebook workflow. For example, if we have a global definition</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[55]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="p">[</span><span class="k">global</span><span class="p">]</span>
<span class="n">VAR</span> <span class="o">=</span> <span class="s2">&quot;this is global&quot;</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A <code>%run</code> magic can override definitions in a global section with global definitions without <code>[global]</code> header:</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[56]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">run</span>
<span class="n">VAR</span> <span class="o">=</span> <span class="s2">&quot;this is local global&quot;</span>
<span class="p">[</span><span class="n">local_global</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">VAR</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>this is local global
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>However, because <code>VAR = "this is local global"</code> is not included in a section and is execlued from the notebook workflow, the following <code>%sosrun</code> magic will have see the statements in the named <code>[global]</code> section:</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[57]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">sosrun</span> <span class="n">local_global</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>this is global
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is why we sometimes call global statements without <code>[global]</code> header <strong>local global section</strong> because they are only executed by magic <code>%run</code>, not <code>%sosrun</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%sossave-"><code>%sossave</code> <a id="magic_sossave" /><a class="anchor-link" href="#%sossave-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Magic <code>%sossave</code> saves the <strong>report</strong> or <strong>workflow</strong> defined in the notebook to specified file, according to specified template.</p>
<ol>
<li><p>Save workflow in <code>.sos</code> format</p>
<ul>
<li>By default a workflow will be saved, which consists of cells that start with section header (ignoring leading comments and magics). The content of the file would be identical to the output of magic <code>%preview --workflow</code>.</li>
<li>If option <code>--all</code> (<code>-a</code>) is specified, all cells will be saved to a .sos file that might or might not be executable in batch mode.</li>
</ul>
</li>
<li><p>Save report in <code>HTML</code> format</p>
<ul>
<li>By default a template <code>sos-report</code> will be used to generate a HTML report, which includes all cells except for those with a <code>scratch</code> tag, and will display by default markdown cells without a <code>hide_output</code> tag, and output of code cells with a <code>report_output</code> tag. In another word, all mark down cells are displayed and output from all code cells are hidden unless you tag them otherwise with keyboard shortcut <code>Ctrl-Shift-O</code>. All contents could be displayed with a hidden control panel to the top left corner of the screen.</li>
<li>Other templates could be specified with option <code>--template</code>. For example, a <code>sos-full</code> report will generate a HTML file with all content.</li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This magic determines file format with file extension (e.g. <code>output.html</code> or option <code>--to</code> (e.g. <code>-t html</code>), an option <code>--force</code> to override existing file, and an option <code>-x</code> to add executable permission to the saved .sos file.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%sossave</code> can also help you track revisions of your analysis by committing files to git repository. If your notebook is under a git repository, you can use</p>
<ul>
<li>Option <code>-c</code> (<code>--commit</code>) to run command <code>git commit SAVEDFILE</code> with optional message specified by option <code>-m</code> (<code>--message</code>).</li>
<li>Option <code>-p</code> (<code>--push</code>) to run command <code>git push</code>.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[58]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">sossave</span> <span class="o">-</span><span class="n">h</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>usage: %sossave [-h] [-t {sos,html}] [-c] [-a] [-m MESSAGE] [-p] [-f] [-x]
                [--template TEMPLATE]
                [filename]

Save the jupyter notebook as workflow (consisting of all sos steps defined in
cells starting with section header) or a HTML report to specified file.

positional arguments:
  filename              Filename of saved report or script. Default to
                        notebookname with file extension determined by option
                        --to.

optional arguments:
  -h, --help            show this help message and exit
  -t {sos,html}, --to {sos,html}
                        Destination format, default to sos.
  -c, --commit          Commit the saved file to git directory using command
                        git commit FILE
  -a, --all             The --all option for sos convert script.ipynb
                        script.sos, which saves all cells and their metadata
                        to a .sos file, that contains all input information of
                        the notebook but might not be executable in batch
                        mode.
  -m MESSAGE, --message MESSAGE
                        Message for git commit. Default to &#34;save FILENAME&#34;
  -p, --push            Push the commit with command &#34;git push&#34;
  -f, --force           If destination file already exists, overwrite it.
  -x, --set-executable  Set `executable` permission to saved script.
  --template TEMPLATE   Template to generate HTML output. The default template
                        is a template defined by configuration key default-
                        sos-template, or sos-report if such a key does not
                        exist.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%set-"><code>%set</code> <a id="magic_set" /><a class="anchor-link" href="#%set-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%set</code> magic sets a persistent sos options so you do not have to enter them each time after <code>%run</code> or <code>%paste</code>. For example, if you set <code>%set -v3</code>, you can execute all cells in the notebook at verbosity level 3 (<code>DEBUG</code>).</p>
<p>Note that this magic only accepts keyword arguments (with leading <code>-</code> or <code>--</code>) so you cannot use it to specify a default workflow to execute.</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[59]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="nb">set</span> <span class="o">-</span><span class="n">v2</span>
<span class="p">[</span><span class="n">cat_10</span><span class="p">]</span>
<span class="p">[</span><span class="n">cat_20</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Set sos options to &#34;-v2&#34;
</pre>
</div>
</div>

</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[60]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="nb">set</span> <span class="o">-</span><span class="n">v1</span>
<span class="p">[</span><span class="n">mouse_10</span><span class="p">]</span>
<span class="p">[</span><span class="n">mouse_20</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Set sos options to &#34;-v1&#34;
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%sandbox-"><code>%sandbox</code> <a id="magic_sandbox" /><a class="anchor-link" href="#%sandbox-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%sandbox</code> magic executes the current cell in the temporary directory with a separate dictionary so that it would change SoS dictionary and files in the current directory.</p>
<p>This magic accepts three parameters:</p>
<ol>
<li>If <code>-d</code> or <code>--dir</code> is specified, sandbox will use the specified directory. It will create the directory if it is does not exist, and will not clean or remove the directory after the completion of execution.</li>
<li>If <code>-k</code> or <code>--keep-dict</code> is specified, the cell would use the existing SoS dictionary instead of creating a new one.</li>
<li>If <code>-e</code> or <code>--expect-error</code> is specified, the cell expects an error and would return <code>ok</code> only if an <code>error</code> occurs. In practice, this option would prevent Jupyter from stopping at a cell that expects an error when you execute the whole notebook with "execute all".</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For example, this <code>ls</code> commands happens at the current directory</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[61]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="err">!</span><span class="n">ls</span> <span class="n">Auxil</span><span class="o">*</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>ls: Auxil*: No such file or directory
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>but the notebook is not available in the sandbox</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[62]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">sandbox</span>
<span class="err">!</span><span class="n">ls</span> <span class="n">Auxil</span><span class="o">*</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>ls: Auxil*: No such file or directory
</pre>
</div>
</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>and the sandbox dictionary is empty</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[63]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">sandbox</span>
<span class="o">%</span><span class="nb">dict</span> <span class="o">--</span><span class="n">keys</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[63]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>set()</pre>
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note that the working directory of subkernels is not affected by the <code>%sandbox</code> magic.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%sessioninfo-"><code>%sessioninfo</code> <a id="magic_sessioninfo" /><a class="anchor-link" href="#%sessioninfo-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Magic <code>%sessioninfo</code> returns the session information of SoS and all the subkernels, which for example include version of the python interpreter and name and version of all imported modules for Python kernels, and the output of function <code>sessionInfo()</code> for language R.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This magic also outputs values of a variable <code>sessioninfo</code> in the SoS namespace, which can be a dictionary of section header and items in the format of string, list of strings or <code>(key, value)</code> pairs, or dictionaries.  This mechanism is designed to output arbitrary additional session information, such as revision of documents and versions of commands. The latter has to be collected manually because there is no standard way to get the version information of commands.</p>
<p>For example, let us find the revision of this document and versions of two commands <code>rsync</code>,  and <code>awk</code> and put them in <code>sessioninfo</code>:</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[64]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">preview</span> <span class="o">-</span><span class="n">n</span> <span class="n">sessioninfo</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
<span class="n">sessioninfo</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
<span class="n">sessioninfo</span><span class="p">[</span><span class="s1">&#39;Programs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span><span class="s1">&#39;rsync&#39;</span><span class="p">,</span> <span class="n">get_output</span><span class="p">(</span><span class="s1">&#39;rsync --version | head -1&#39;</span><span class="p">)],</span>
        <span class="p">[</span><span class="s1">&#39;awk&#39;</span><span class="p">,</span> <span class="n">get_output</span><span class="p">(</span><span class="s1">&#39;awk -version&#39;</span><span class="p">)]</span>
    <span class="p">]</span>
<span class="n">sessioninfo</span><span class="p">[</span><span class="s1">&#39;Extra&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">/%m/%Y&quot;</span><span class="p">)],</span>
        <span class="p">[</span><span class="s1">&#39;Revision&#39;</span><span class="p">,</span> <span class="n">get_output</span><span class="p">(</span><span class="s1">&#39;git rev-list --count HEAD&#39;</span><span class="p">)],</span>
        <span class="p">[</span><span class="s1">&#39;HASH&#39;</span><span class="p">,</span> <span class="n">get_output</span><span class="p">(</span><span class="s1">&#39;git rev-parse HEAD&#39;</span><span class="p">)]</span>
    <span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div class="sos_hint">> sessioninfo: OrderedDict of length 2</div>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>




<div class="output_text output_subarea ">
<pre>OrderedDict([(&#39;Programs&#39;,
              [[&#39;rsync&#39;, &#39;rsync  version 2.6.9  protocol version 29\n&#39;],
               [&#39;awk&#39;, &#39;awk version 20070501\n&#39;]]),
             (&#39;Extra&#39;,
              [[&#39;Date&#39;, &#39;08/12/2017&#39;],
               [&#39;Revision&#39;, &#39;236\n&#39;],
               [&#39;HASH&#39;, &#39;b348a9e7ceaa02e6c0f5c195defe01d5a127aca5\n&#39;]])])</pre>
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Then, after we load Python3 and R,</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_Python3">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[65]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span>
<span class="kn">import</span> <span class="nn">numpy</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[66]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">library</span><span class="p">(</span><span class="s1">&#39;ggplot2&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can run <code>%sessioninfo</code> to display all session information:</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[67]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">sessioninfo</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<p class="session_section">SoS</p>
<table class="session_info">
<tr>
<th>SoS Version</th><td><pre>0.9.10.15</pre></td>
</tr>
<tr>
<th>numpy</th><td><pre>1.13.1</pre></td>
</tr>
<tr>
<th>IPython</th><td><pre>6.2.1</pre></td>
</tr>
</table>
<p class="session_section">Python3</p>
<table class="session_info">
<tr>
<th>Kernel</th><td><pre>python3</pre></td>
</tr>
<tr>
<th>Language</th><td><pre>Python3</pre></td>
</tr>
<tr>
<th>Version</th><td><pre>3.6.2 |Anaconda custom (64-bit)| (default, Sep 21 2017, 18:29:43) 
[GCC 4.2.1 Compatible Clang 4.0.1 (tags/RELEASE_401/final)]</pre></td>
</tr>
<tr>
<th>pandas</th><td><pre>0.20.3</pre></td>
</tr>
<tr>
<th>numpy</th><td><pre>1.13.1</pre></td>
</tr>
</table>
<p class="session_section">R</p>
<table class="session_info">
<tr>
<th>Kernel</th><td><pre>ir</pre></td>
</tr>
<tr>
<th>Language</th><td><pre>R</pre></td>
</tr>
<tr>
<td colspan="2"><pre>R version 3.4.2 (2017-09-28)
Platform: x86_64-apple-darwin15.6.0 (64-bit)
Running under: OS X El Capitan 10.11.6

Matrix products: default
BLAS: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRblas.0.dylib
LAPACK: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] ggplot2_2.2.1 feather_0.3.1

loaded via a namespace (and not attached):
 [1] Rcpp_0.12.13        magrittr_1.5        hms_0.3            
 [4] munsell_0.4.3       uuid_0.1-2          colorspace_1.3-2   
 [7] R6_2.2.2            rlang_0.1.2         stringr_1.2.0      
[10] plyr_1.8.4          tools_3.4.2         grid_3.4.2         
[13] gtable_0.2.0        lazyeval_0.2.1      digest_0.6.12      
[16] tibble_1.3.4        crayon_1.3.4        IRdisplay_0.4.4    
[19] repr_0.12.0         IRkernel_0.8.9.9000 evaluate_0.10.1    
[22] pbdZMQ_0.2-6        stringi_1.1.5       compiler_3.4.2     
[25] scales_0.5.0        jsonlite_1.5       </pre></td>
</tr>
</table>
<p class="session_section">Programs</p>
<table class="session_info">
<tr>
<th>rsync</th><td><pre>rsync  version 2.6.9  protocol version 29
</pre></td>
</tr>
<tr>
<th>awk</th><td><pre>awk version 20070501
</pre></td>
</tr>
</table>
<p class="session_section">Extra</p>
<table class="session_info">
<tr>
<th>Date</th><td><pre>08/12/2017</pre></td>
</tr>
<tr>
<th>Revision</th><td><pre>236
</pre></td>
</tr>
<tr>
<th>HASH</th><td><pre>b348a9e7ceaa02e6c0f5c195defe01d5a127aca5
</pre></td>
</tr>
</table>

</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%shutdown-"><code>%shutdown</code> <a id="magic_shutdown" /><a class="anchor-link" href="#%shutdown-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Magic <code>%shutdown</code> shuts down a specified kernel, or the current running kernel, with an option to restart it (<code>--restart</code>, <code>-r</code>). SoS will switch to kernel <code>SoS</code> if the current kernel is shutdown. In summary</p>
<table>
<thead><tr>
<th>current kernel</th>
<th>command</th>
<th>kernel after magic</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>R</code> (for example)</td>
<td><code>%shutdown</code></td>
<td><code>SoS</code></td>
</tr>
<tr>
<td><code>R</code></td>
<td><code>%shutdown -r</code></td>
<td><code>R</code> (new)</td>
</tr>
<tr>
<td><code>SoS</code></td>
<td><code>%shutdown R</code></td>
<td><code>SoS</code> (<code>R</code> is shutdown)</td>
</tr>
<tr>
<td><code>SoS</code></td>
<td><code>%shutdown -r R</code></td>
<td><code>SoS</code> (<code>R</code> is restarted)</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%taskinfo-"><code>%taskinfo</code> <a id="magic_taskinfo" /><a class="anchor-link" href="#%taskinfo-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When you execute a SoS workflow with external task, one or more tasks would be displayed in the notebook.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="../media/tasks.png" alt="tasks"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When you click on the task ID, a <code>%taskinfo</code> magic would be executed at the side panel, displaying the detailed information of the task, including a plot of the CPU and memory usage of the task during its execution.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="../media/resource_history.png" alt="resource_history"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can also execute the magic directly by running it in the side panel or a regular cell, with command</p>

<pre><code>%taskinfo 6dbe51a2c129f02e34e454be5f0cbcd9 -q queue</code></pre>
<p>Note that the <code>-q</code> (<code>--queue</code>) option specifies the task queue in which the task is being executed.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%tasks-"><code>%tasks</code> <a id="magic_tasks" /><a class="anchor-link" href="#%tasks-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%tasks</code> magic lists all or selected tasks in local or remote task queue so that you can monitor them using the notebook interface. The tasks would be listed as shown above and you can</p>
<ol>
<li>select the icon to stop a running or pending task, or resume failed or aborted tasks.</li>
<li>select the task ID to retrieve the details of the task.</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This magic accepts parameters <code>-q</code> (<code>--queue</code>), and option <code>-s</code> (<code>--status</code>) to limit tasks in certain status and <code>--age</code>) to limit tasks older or newer than specified age. Option <code>age</code> accepts a number with unit <code>s</code> (second), <code>m</code> (minute), <code>h</code> (hour), or <code>d</code> (day, default), or hours, minutes and seconds in the <code>HH:MM:SS</code> format, with an optional prefix <code>+</code> for older than specified time. For example, you can use magic</p>

<pre><code>%tasks -q host -s running</code></pre>
<p>to list all running tasks on a remote task queue named <code>host</code>, or</p>

<pre><code>%tasks -s running -t +2d</code></pre>
<p>to list all tasks that has been running for more than 2 days.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%toc-"><code>%toc</code> <a id="magic_toc" /><a class="anchor-link" href="#%toc-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>%toc</code> magic displays the table of content of the current notebook in the side panel which makes it easy for you to navigate within a long notebook. SoS defines a keyboard shortcut <code>Ctrl-Shift-t</code> for this magic so there is rarely a need to type it in.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%use"><code>%use</code><a class="anchor-link" href="#%use">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As shown above, the <code>%use name</code> magic starts or switch to a subkernel named <code>name</code>. The kernel will be used for the current cell and any new cell, but not for existing cells created with another kernel. The kernel can be any locally installed Jupyter kenel, or name of a <strong>language</strong> (e.g. <code>R</code> for kernel <code>ir</code>). A <code>language</code> is usually built upon the corresponding subkernel, with added support for data exchange between SoS and the subkernel.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>%use</code> magic accepts parameters <code>--in (-i)</code> and <code>--out (-o)</code>, followed by variables that will be transferred to the subkernel after starting (or switching to) the subkernel, and variables that will be transferred back to SoS before magic <code>%use sos</code>. It also accepts an option <code>--restart</code> (<code>-r</code>) to restart the kernel if it is already running.</p>
<p>For example,</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[68]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[69]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">use</span> <span class="n">ir</span> <span class="o">-</span><span class="n">i</span> <span class="n">n</span> <span class="o">-</span><span class="n">o</span> <span class="n">ran</span>
<span class="n">ran</span> <span class="o">&lt;-</span> <span class="n">rnorm</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[70]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">use</span> <span class="n">sos</span>
<span class="n">ran</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[70]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[1.96928885361215,
 0.0118757623948863,
 -0.312544424000368,
 -0.893922947749198,
 1.40511083506582]</pre>
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Data exchange is actually performed by magics <code>%get</code> and <code>%put</code> so please refer to these magics for details.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>More sophisticated methods to start a new subkernel can be achieved with options <code>-k</code> (<code>--kernel</code>), <code>-l</code> (<code>--language</code>) and <code>-c</code> (<code>--color</code>), more specifically</p>
<table>
<thead><tr>
<th>usage</th>
<th>sample command</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>Customize the background color of a subkernel</td>
<td><code>%use R -c red</code></td>
<td>Can be applied to existing and new subkernels to change background. A special <code>default</code> name can reset color back to language default.</td>
</tr>
<tr>
<td>Start a separate instance of a known subkernel, with a different name</td>
<td><code>%use R2 -k ir -c '#bfff00'</code></td>
<td>Use kernel <code>ir</code> and its default langauge interface</td>
</tr>
<tr>
<td></td>
<td><code>%use R2 -l R -c #CCCCCC</code></td>
<td>Use default kernel (<code>ir</code>) or language <code>R</code></td>
</tr>
<tr>
<td>Start a subkernel with a customized language module</td>
<td><code>%use R2 -l mymodule.sos_R</code></td>
<td><code>mymodule.sos_R</code> should be derived from <code>sos.R.sos_R</code></td>
</tr>
<tr>
<td>Start an existing kernel without langauge definition with a known language module</td>
<td><code>%use R_remote -l R</code></td>
<td><code>R_remote</code> could be a kernel defined by <a href="https://pypi.python.org/pypi/remote_ikernel">remote_ikernel</a></td>
</tr>
<tr>
<td>Start another subkernel with a customized language module</td>
<td><code>%use R2 -k R_remote -l mymodule.sos_R</code></td>
</tr>
</tbody>
</table>
<p>Note that <a href="https://pypi.python.org/pypi/remote_ikernel">remote_ikernel</a> provides an interesting way of using SoS because the kernel is actually started on a remote host, possibly on a cluster managed by PBS/Torch, Sun Grid etc. Using a remote kernel along with a local kernel allows you to exchange data between local and remote kernels (although exchanging of large datasets might not work if the data exchange is performed through local files).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="%with-"><code>%with</code> <a id="magic_with" /><a class="anchor-link" href="#%with-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>%with kernel</code> also starts (or switches to) a subkernel, but kernel specified by <code>%with kernel</code> will be reset as soon as the cell is executed. This magic is therefore suitable for a quick errand to another kernel. This magic also accepts options <code>--in</code> (or <code>-i</code>) and <code>--out</code> (or <code>-o</code>), so you could use</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_R">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[71]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="k">with</span> <span class="n">R</span> <span class="o">-</span><span class="n">i</span> <span class="n">n</span> <span class="o">-</span><span class="n">o</span> <span class="n">ran</span>
<span class="n">ran</span> <span class="o">&lt;-</span> <span class="n">rnorm</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>to get a list of normally distributed numbers using R's <code>rnorm</code> function. The current kernel is still <code>sos</code>.</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[72]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="o">%</span><span class="n">use</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Current subkernel: SoS (kernel=sos, language=undefined, color=&#34;&#34;)
Active subkernels: Python3, R
Available subkernels:
    Bash (bash)
    Julia (julia-0.6)
    MATLAB (imatlab)
    Python3 (python3)
    R (ir)
    SoS (sos)
    django_extensions (django_extensions)
    django_extensions (django_extensions)
    jupyter3_python_3 (jupyter3_python_3)
    jupyter3_python_3 (jupyter3_python_3)</pre>
</div>
</div>

</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[73]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="n">ran</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[73]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[-0.167668384623955,
 1.27674634162288,
 1.78635380328703,
 0.306342222542276,
 -2.06684705997443]</pre>
</div>

</div>

</div>
</div>

</div>
	</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="!shell-command-"><code>!shell-command</code> <a href="shell_command" /><a class="anchor-link" href="#!shell-command-">&#182;</a></h3><p>If any other command is entered after <code>!</code>, sos will treat the rest of the line as a shell command and execute it. Only single-line commands are supported. String interpolation is supported. Note that <code>!cd</code> does not change the current working directory because the command is executed in a separate process. Use magic <code>%cd</code> for that purpose.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The command line would accept string interpolation so you can for example do</p>

</div>
</div>
</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[74]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="kn">import</span> <span class="nn">tempfile</span>
<span class="n">filename</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkstemp</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">out</span><span class="p">:</span>
  <span class="n">out</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;something</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[75]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="err">!</span><span class="n">cat</span> <span class="p">{</span><span class="n">filename</span><span class="p">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div class="sos_hint">> !cat /var/folders/ys/gnzk0qbx5wbdgm531v82xxljv5yqy8/T/tmp_62tcrgd<br></div>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>something
</pre>
</div>
</div>

</div>
</div>

</div>
	</div><div class="cell border-box-sizing code_cell rendered lan_SoS">
	
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[76]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-sos"><pre><span></span><span class="c1"># clean up</span>
<span class="err">!</span><span class="n">rm</span> <span class="p">{</span><span class="n">filename</span><span class="p">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div class="sos_hint">> !rm /var/folders/ys/gnzk0qbx5wbdgm531v82xxljv5yqy8/T/tmp_62tcrgd<br></div>
</div>

</div>

</div>
</div>

</div>
	</div>
    </div>
  </div>
</body>

 


</html>
